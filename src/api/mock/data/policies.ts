import type { Policy, PolicySummary } from '@/types';

export const mockPolicies: Policy[] = [
  {
    id: 'pol_001',
    policyNumber: 'HLT-2024-00001',
    type: 'health',
    name: 'Premium Health Shield',
    description: 'Comprehensive health coverage for you and your family with extensive network access and preventive care benefits.',
    status: 'active',
    coverageAmount: 500000,
    premiumAmount: 1299,
    premiumFrequency: 'monthly',
    deductible: 500,
    startDate: '2024-01-01',
    endDate: '2024-12-31',
    renewalDate: '2024-12-15',
    holderId: 'usr_001',
    members: [
      {
        id: 'mem_001',
        policyId: 'pol_001',
        firstName: 'John',
        lastName: 'Doe',
        relationship: 'self',
        dateOfBirth: '1985-03-15',
        age: 39,
        email: 'john.doe@email.com',
        phone: '+1-555-0101',
        isPrimaryMember: true,
      },
      {
        id: 'mem_002',
        policyId: 'pol_001',
        firstName: 'Jane',
        lastName: 'Doe',
        relationship: 'spouse',
        dateOfBirth: '1987-07-22',
        age: 37,
        email: 'jane.doe@email.com',
        phone: '+1-555-0102',
        isPrimaryMember: false,
      },
      {
        id: 'mem_003',
        policyId: 'pol_001',
        firstName: 'Emma',
        lastName: 'Doe',
        relationship: 'child',
        dateOfBirth: '2015-09-10',
        age: 9,
        email: 'jane.doe@email.com',
        phone: '+1-555-0102',
        isPrimaryMember: false,
      },
    ],
    createdAt: '2024-01-01T00:00:00Z',
    updatedAt: '2024-01-01T00:00:00Z',
  },
  {
    id: 'pol_002',
    policyNumber: 'LIF-2024-00002',
    type: 'life',
    name: 'Term Life Protect',
    description: 'Secure your family\'s future with our term life insurance policy offering substantial coverage at affordable rates.',
    status: 'active',
    coverageAmount: 1000000,
    premiumAmount: 89,
    premiumFrequency: 'monthly',
    deductible: 0,
    startDate: '2024-01-01',
    endDate: '2044-01-01',
    renewalDate: '2043-12-01',
    holderId: 'usr_001',
    members: [
      {
        id: 'mem_004',
        policyId: 'pol_002',
        firstName: 'John',
        lastName: 'Doe',
        relationship: 'self',
        dateOfBirth: '1985-03-15',
        age: 39,
        email: 'john.doe@email.com',
        phone: '+1-555-0101',
        isPrimaryMember: true,
      },
    ],
    createdAt: '2024-01-01T00:00:00Z',
    updatedAt: '2024-01-01T00:00:00Z',
  },
  {
    id: 'pol_003',
    policyNumber: 'AUT-2024-00003',
    type: 'auto',
    name: 'Comprehensive Auto Cover',
    description: 'Full coverage auto insurance with collision, comprehensive, and liability protection for peace of mind on the road.',
    status: 'active',
    coverageAmount: 100000,
    premiumAmount: 156,
    premiumFrequency: 'monthly',
    deductible: 250,
    startDate: '2024-03-01',
    endDate: '2025-03-01',
    renewalDate: '2025-02-15',
    holderId: 'usr_001',
    members: [
      {
        id: 'mem_005',
        policyId: 'pol_003',
        firstName: 'John',
        lastName: 'Doe',
        relationship: 'self',
        dateOfBirth: '1985-03-15',
        age: 39,
        email: 'john.doe@email.com',
        phone: '+1-555-0101',
        isPrimaryMember: true,
      },
    ],
    createdAt: '2024-03-01T00:00:00Z',
    updatedAt: '2024-03-01T00:00:00Z',
  },
  {
    id: 'pol_004',
    policyNumber: 'HLT-2024-00004',
    type: 'health',
    name: 'Individual Health Plus',
    description: 'Affordable individual health coverage with excellent benefits and nationwide provider network.',
    status: 'active',
    coverageAmount: 250000,
    premiumAmount: 449,
    premiumFrequency: 'monthly',
    deductible: 1000,
    startDate: '2024-02-01',
    endDate: '2024-12-31',
    renewalDate: '2024-12-15',
    holderId: 'usr_002',
    members: [
      {
        id: 'mem_006',
        policyId: 'pol_004',
        firstName: 'Sarah',
        lastName: 'Smith',
        relationship: 'self',
        dateOfBirth: '1990-07-22',
        age: 34,
        email: 'sarah.smith@email.com',
        phone: '+1-555-0202',
        isPrimaryMember: true,
      },
    ],
    createdAt: '2024-02-01T00:00:00Z',
    updatedAt: '2024-02-01T00:00:00Z',
  },
  {
    id: 'pol_005',
    policyNumber: 'HOM-2024-00005',
    type: 'home',
    name: 'Home Guardian Shield',
    description: 'Comprehensive homeowners insurance protecting your property, belongings, and liability.',
    status: 'active',
    coverageAmount: 750000,
    premiumAmount: 245,
    premiumFrequency: 'monthly',
    deductible: 1500,
    startDate: '2024-02-15',
    endDate: '2025-02-15',
    renewalDate: '2025-01-30',
    holderId: 'usr_002',
    members: [
      {
        id: 'mem_007',
        policyId: 'pol_005',
        firstName: 'Sarah',
        lastName: 'Smith',
        relationship: 'self',
        dateOfBirth: '1990-07-22',
        age: 34,
        email: 'sarah.smith@email.com',
        phone: '+1-555-0202',
        isPrimaryMember: true,
      },
    ],
    createdAt: '2024-02-15T00:00:00Z',
    updatedAt: '2024-02-15T00:00:00Z',
  },
];

export function findPoliciesByUserId(userId: string): Policy[] {
  return mockPolicies.filter((policy) => policy.holderId === userId);
}

export function findPolicyById(policyId: string): Policy | undefined {
  return mockPolicies.find((policy) => policy.id === policyId);
}

export function getPolicySummaries(userId: string): PolicySummary[] {
  return findPoliciesByUserId(userId).map((policy) => ({
    id: policy.id,
    policyNumber: policy.policyNumber,
    type: policy.type,
    name: policy.name,
    status: policy.status,
    coverageAmount: policy.coverageAmount,
    premiumAmount: policy.premiumAmount,
    premiumFrequency: policy.premiumFrequency,
    endDate: policy.endDate,
    memberCount: policy.members.length,
  }));
}
